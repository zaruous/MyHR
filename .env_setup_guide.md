# .env 파일 설정 가이드

이 문서는 NEXUS HRM 시스템의 백엔드 서비스에 필요한 환경 변수를 설정하는 방법을 안내합니다. `.env` 파일은 민감한 정보(예: 데이터베이스 비밀번호, JWT 시크릿 키)를 코드에서 분리하여 안전하게 관리하고, 개발 환경과 배포 환경 간에 설정을 쉽게 전환할 수 있도록 돕습니다.

## 1. `.env` 파일 생성

프로젝트의 **백엔드 디렉토리** (`HR/backend/`)에 `.env` 파일을 생성합니다.

```
HR/
└── backend/
    ├── server.js
    └── .env  <-- 여기에 생성합니다.
```

## 2. 환경 변수 추가

생성한 `.env` 파일을 열고 다음 환경 변수들을 추가합니다. 각 변수에 대한 설명과 기본값을 참고하여 자신의 환경에 맞게 값을 설정하세요.

```ini
# JWT (JSON Web Token) 비밀 키
# 사용자 인증 토큰을 서명하는 데 사용됩니다.
# 강력하고 예측 불가능한 문자열로 설정하는 것이 중요합니다.
JWT_SECRET="your_very_secret_jwt_key_here"

# 데이터베이스 호스트
# MariaDB/MySQL 서버가 실행 중인 호스트 주소입니다.
# 개발 환경에서는 '127.0.0.1' 또는 'localhost'가 일반적입니다.
DB_HOST="127.0.0.1"

# 데이터베이스 사용자 이름
# MariaDB/MySQL에 접속할 때 사용할 사용자 이름입니다.
# db_setup.js에서 설정된 기본값은 'tester1'입니다.
DB_USER="tester1"

# 데이터베이스 비밀번호
# MariaDB/MySQL에 접속할 때 사용할 비밀번호입니다.
# db_setup.js에서 설정된 기본값은 'tester1'입니다.
DB_PASSWORD="tester1"

# 데이터베이스 이름
# 사용할 데이터베이스의 이름입니다.
# db_setup.js에서 설정된 기본값은 'hr'입니다.
DB_NAME="hr"

# 포트번호 (선택 사항)
# 백엔드 서버가 실행될 포트 번호입니다.
# 기본값은 3000입니다.
# PORT=3000
```

### 각 변수에 대한 설명:

*   **`JWT_SECRET`**:
    *   **용도**: 사용자 로그인 시 발급되는 JWT 토큰을 서명하고 검증하는 데 사용되는 비밀 키입니다.
    *   **중요성**: 이 키는 외부에 노출되어서는 안 되며, 추측하기 어려운 강력하고 긴 문자열로 설정해야 합니다.
*   **`DB_HOST`**:
    *   **용도**: 데이터베이스 서버의 IP 주소 또는 호스트 이름입니다.
    *   **일반적인 값**: 로컬 개발 환경에서는 `127.0.0.1` 또는 `localhost`를 사용합니다.
*   **`DB_USER`**:
    *   **용도**: 데이터베이스에 접속할 때 사용할 사용자 이름입니다.
    *   **기본값**: `db_setup.js` 스크립트에서 설정된 기본값은 `tester1`입니다.
*   **`DB_PASSWORD`**:
    *   **용도**: 데이터베이스 사용자 `DB_USER`의 비밀번호입니다.
    *   **기본값**: `db_setup.js` 스크립트에서 설정된 기본값은 `tester1`입니다.
*   **`DB_NAME`**:
    *   **용도**: 애플리케이션이 사용할 데이터베이스의 이름입니다.
    *   **기본값**: `db_setup.js` 스크립트에서 설정된 기본값은 `hr`입니다.
*   **`PORT` (선택 사항)**:
    *   **용도**: 백엔드 서버가 클라이언트 요청을 수신할 포트 번호입니다.
    *   **기본값**: `backend/server.js`에서 기본값은 `3000`으로 설정되어 있습니다. 이 변수를 설정하지 않으면 `3000` 포트가 사용됩니다.

## 3. `.env` 파일 사용 시점

Node.js 환경에서는 `dotenv` 라이브러리를 통해 `.env` 파일의 변수들을 `process.env` 객체로 로드합니다. 시스템은 시작될 때 자동으로 이 파일의 변수들을 인식하게 됩니다.

---

## 4. JWT_SECRET 토큰 생성 가이드

`JWT_SECRET`은 보안상 매우 중요한 값이므로, 간단하거나 예측 가능한 문자열을 사용해서는 안 됩니다.

Node.js가 설치된 환경의 터미널에서 다음 명령어를 실행하여 안전하고 긴 무작위 문자열을 생성할 수 있습니다.

```sh
node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
```

### 실행 방법

1.  터미널(PowerShell, cmd, Git Bash 등)을 엽니다.
2.  위 명령어를 복사하여 붙여넣고 실행합니다.
3.  터미널에 출력된 긴 16진수 문자열을 복사합니다.
4.  `.env` 파일의 `JWT_SECRET` 변수 값으로 붙여넣습니다.

**예시:**

```ini
# 명령어 실행 후 나온 값을 아래와 같이 붙여넣습니다.
JWT_SECRET="a7a003f3a1376d864b5952136e84d93025298b4737759b850380313360408542c38453e6022830f81c9b889370b65319992b19159048a3b85f36829a99f1a04d"
```

---

**팁**: `.env` 파일은 민감한 정보를 포함하므로 Git 저장소에 커밋되지 않도록 `.gitignore` 파일에 추가하는 것이 좋습니다. 프로젝트 루트에 있는 `.gitignore` 파일에 `/backend/.env` 라인을 추가하세요.
